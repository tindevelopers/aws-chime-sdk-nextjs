"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{6625:function(e,i,n){n.r(i),n.d(i,{default:function(){return o}});var s=n(5893),r=n(7294);function o(e){let{style:i={}}=e,[n,o]=(0,r.useState)([]),[t,d]=(0,r.useState)({camera:"unknown",microphone:"unknown"}),[a,c]=(0,r.useState)({}),[l,u]=(0,r.useState)({}),[p,h]=(0,r.useState)(!0),[v,x]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m(!0)},[]);let j=async()=>{if("undefined"!=typeof navigator&&navigator.permissions)try{if("permissions"in navigator){let e=await navigator.permissions.query({name:"camera"}),i=await navigator.permissions.query({name:"microphone"});d({camera:e.state,microphone:i.state})}}catch(e){console.log("Permissions API not fully supported")}},f=async()=>{try{var e;if(!(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.enumerateDevices))throw Error("enumerateDevices not supported");let i=await navigator.mediaDevices.enumerateDevices();o(i.map(e=>({deviceId:e.deviceId,label:e.label,kind:e.kind,groupId:e.groupId})))}catch(e){x("Failed to get devices: ".concat(e.message))}},D=()=>{if("undefined"==typeof navigator)return;let e=navigator.userAgent,i={userAgent:e,browser:"Unknown",version:"Unknown",platform:navigator.platform,language:navigator.language,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine};if(e.includes("Chrome")){i.browser="Chrome";let n=e.match(/Chrome\/(\d+)/);i.version=n?n[1]:"Unknown"}else if(e.includes("Firefox")){i.browser="Firefox";let n=e.match(/Firefox\/(\d+)/);i.version=n?n[1]:"Unknown"}else if(e.includes("Safari")&&!e.includes("Chrome")){i.browser="Safari";let n=e.match(/Version\/(\d+)/);i.version=n?n[1]:"Unknown"}else if(e.includes("Edge")){i.browser="Edge";let n=e.match(/Edge\/(\d+)/);i.version=n?n[1]:"Unknown"}c(i)},y=()=>{var e,i,n;"undefined"!=typeof navigator&&u({mediaDevices:!!navigator.mediaDevices,getUserMedia:!!(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.getUserMedia),enumerateDevices:!!(null===(i=navigator.mediaDevices)||void 0===i?void 0:i.enumerateDevices),getDisplayMedia:!!(null===(n=navigator.mediaDevices)||void 0===n?void 0:n.getDisplayMedia),audioContext:!!(window.AudioContext||window.webkitAudioContext),webRTC:!!(window.RTCPeerConnection||window.webkitRTCPeerConnection),permissions:!!navigator.permissions,isSecureContext:window.isSecureContext,protocol:window.location.protocol})},w=async()=>{try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop()),"✅ Camera access successful"}catch(e){return"❌ Camera access failed: ".concat(e.name," - ").concat(e.message)}},b=async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),"✅ Microphone access successful"}catch(e){return"❌ Microphone access failed: ".concat(e.name," - ").concat(e.message)}},C=async()=>{h(!0),x("");try{D(),y(),await j(),await f()}catch(e){x("Diagnostics failed: ".concat(e.message))}finally{h(!1)}};(0,r.useEffect)(()=>{g&&C()},[g]);let k={padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f8f9fa",fontFamily:"monospace",fontSize:"12px",...i},S={marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #e9ecef"},A={fontSize:"14px",fontWeight:"bold",marginBottom:"10px",color:"#495057"},M=e=>{if("boolean"==typeof e)return e?"✅":"❌";switch(e){case"granted":return"✅";case"denied":return"❌";case"prompt":return"⚠️";default:return"❓"}};return p?(0,s.jsx)("div",{style:k,children:(0,s.jsx)("div",{style:{textAlign:"center"},children:"\uD83D\uDD0D Running media diagnostics..."})}):(0,s.jsxs)("div",{style:k,children:[(0,s.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"16px",color:"#212529"},children:"\uD83D\uDD0D Media Diagnostics Report"}),v&&(0,s.jsxs)("div",{style:{...S,backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",color:"#721c24"},children:[(0,s.jsx)("div",{style:A,children:"❌ Error"}),(0,s.jsx)("div",{children:v})]}),(0,s.jsxs)("div",{style:S,children:[(0,s.jsx)("div",{style:A,children:"\uD83C\uDF10 Browser Information"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Browser:"})," ",a.browser," ",a.version]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Platform:"})," ",a.platform]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Language:"})," ",a.language]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Protocol:"})," ",l.protocol]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Secure Context:"})," ",M(l.isSecureContext)," ",l.isSecureContext?"Yes":"No"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Online:"})," ",M(a.onLine)," ",a.onLine?"Yes":"No"]})]}),(0,s.jsxs)("div",{style:S,children:[(0,s.jsx)("div",{style:A,children:"\uD83D\uDD27 API Support"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"MediaDevices API:"})," ",M(l.mediaDevices)," ",l.mediaDevices?"Supported":"Not Supported"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"getUserMedia:"})," ",M(l.getUserMedia)," ",l.getUserMedia?"Available":"Not Available"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"enumerateDevices:"})," ",M(l.enumerateDevices)," ",l.enumerateDevices?"Available":"Not Available"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"getDisplayMedia:"})," ",M(l.getDisplayMedia)," ",l.getDisplayMedia?"Available":"Not Available"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"AudioContext:"})," ",M(l.audioContext)," ",l.audioContext?"Supported":"Not Supported"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"WebRTC:"})," ",M(l.webRTC)," ",l.webRTC?"Supported":"Not Supported"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Permissions API:"})," ",M(l.permissions)," ",l.permissions?"Available":"Not Available"]})]}),(0,s.jsxs)("div",{style:S,children:[(0,s.jsx)("div",{style:A,children:"\uD83D\uDD10 Permissions Status"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Camera:"})," ",M(t.camera)," ",t.camera]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Microphone:"})," ",M(t.microphone)," ",t.microphone]})]}),(0,s.jsxs)("div",{style:S,children:[(0,s.jsx)("div",{style:A,children:"\uD83D\uDCF1 Available Devices"}),0===n.length?(0,s.jsx)("div",{style:{color:"#dc3545"},children:"No devices found or permission denied"}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Total devices:"})," ",n.length]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Video inputs:"})," ",n.filter(e=>"videoinput"===e.kind).length]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Audio inputs:"})," ",n.filter(e=>"audioinput"===e.kind).length]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Audio outputs:"})," ",n.filter(e=>"audiooutput"===e.kind).length]}),n.map((e,i)=>{var n;return(0,s.jsxs)("div",{style:{marginTop:"5px",paddingLeft:"10px"},children:[(0,s.jsxs)("strong",{children:[i+1,"."]})," ",e.kind,": ",e.label||"".concat(e.kind," (").concat((null===(n=e.deviceId)||void 0===n?void 0:n.slice(0,8))||"unknown","...)")]},e.deviceId||"device-".concat(i))})]})]}),(0,s.jsxs)("div",{style:S,children:[(0,s.jsx)("div",{style:A,children:"\uD83E\uDDEA Quick Tests"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,s.jsx)("button",{onClick:async()=>{alert(await w())},style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Camera"}),(0,s.jsx)("button",{onClick:async()=>{alert(await b())},style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Microphone"}),(0,s.jsx)("button",{onClick:C,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Refresh"})]})]}),(0,s.jsxs)("div",{style:S,children:[(0,s.jsx)("div",{style:A,children:"\uD83D\uDCA1 Recommendations"}),(0,s.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px"},children:[!l.isSecureContext&&(0,s.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",(0,s.jsx)("strong",{children:"HTTPS Required:"})," Camera/microphone access requires HTTPS in production"]}),!l.mediaDevices&&(0,s.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",(0,s.jsx)("strong",{children:"Unsupported Browser:"})," MediaDevices API is not supported"]}),"denied"===t.camera&&(0,s.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",(0,s.jsx)("strong",{children:"Camera Blocked:"})," Camera access is denied. Check browser settings"]}),"denied"===t.microphone&&(0,s.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",(0,s.jsx)("strong",{children:"Microphone Blocked:"})," Microphone access is denied. Check browser settings"]}),0===n.filter(e=>"videoinput"===e.kind).length&&(0,s.jsxs)("li",{style:{color:"#ffc107"},children:["⚠️ ",(0,s.jsx)("strong",{children:"No Camera:"})," No video input devices detected"]}),0===n.filter(e=>"audioinput"===e.kind).length&&(0,s.jsxs)("li",{style:{color:"#ffc107"},children:["⚠️ ",(0,s.jsx)("strong",{children:"No Microphone:"})," No audio input devices detected"]}),l.mediaDevices&&l.isSecureContext&&"denied"!==t.camera&&"denied"!==t.microphone&&(0,s.jsxs)("li",{style:{color:"#28a745"},children:["✅ ",(0,s.jsx)("strong",{children:"Good to go:"})," Media APIs are supported and permissions look good"]})]})]})]})}}}]);