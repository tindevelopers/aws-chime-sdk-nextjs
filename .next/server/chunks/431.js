"use strict";exports.id=431,exports.ids=[431],exports.modules={6431:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var n=r(997),i=r(6689),s=r(8496);function o({title:e="Meeting Chat",currentUserId:t="current-user",currentUserName:r="You",showCloseButton:o=!0,onClose:d,width:l=320,height:a=400,style:x={}}){let[p,c]=(0,i.useState)([]),[g,h]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),f=(0,s.useAudioVideo)(),y=(0,i.useRef)(null),b=(0,i.useRef)(null),v=()=>{if(!f||!g.trim())return;let e=new Date().toLocaleTimeString(),n={message:g.trim(),senderId:t,senderName:r,timestamp:e};try{f.realtimeSendDataMessage("chat",n,3e4),h(""),b.current&&b.current.focus()}catch(e){console.error("Error sending chat message:",e)}},j=e=>{if(f)try{f.realtimeSendDataMessage("typing",{isTyping:e,senderId:t},5e3)}catch(e){console.error("Error sending typing indicator:",e)}},C={width:`${l}px`,height:`${a}px`,backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",border:"1px solid #e0e0e0",display:"flex",flexDirection:"column",overflow:"hidden",...x};return(0,n.jsxs)("div",{style:C,children:[(0,n.jsxs)("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{style:{margin:"0",fontSize:"16px",color:"#333"},children:["\uD83D\uDCAC ",e]}),p.length>0&&(0,n.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:[p.length," message",1!==p.length?"s":""]})]}),o&&n.jsx("button",{onClick:()=>{d&&d()},style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#666",padding:"5px"},title:"Close chat",children:"âœ•"})]}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"10px",backgroundColor:"#fafafa"},children:0===p.length?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:[n.jsx("div",{style:{fontSize:"48px",marginBottom:"15px"},children:"\uD83D\uDCAC"}),n.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:"No messages yet"}),n.jsx("div",{style:{fontSize:"14px"},children:"Start the conversation by sending a message below"})]}):(0,n.jsxs)(n.Fragment,{children:[p.map((e,t)=>{let r=0===t||p[t-1].senderId!==e.senderId,i=t===p.length-1||p[t+1].senderId!==e.senderId;return n.jsx(s.ChatBubbleContainer,{timestamp:e.timestamp,style:{marginBottom:"8px"},children:n.jsx(s.ChatBubble,{variant:e.variant,senderName:r?e.senderName:void 0,showTail:i,style:{maxWidth:"80%",wordBreak:"break-word"},children:e.content})},e.id)}),u&&n.jsx("div",{style:{padding:"10px",fontSize:"12px",color:"#666",fontStyle:"italic"},children:"Someone is typing..."}),n.jsx("div",{ref:y})]})}),(0,n.jsxs)("div",{style:{padding:"15px",backgroundColor:"white",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",alignItems:"flex-end"},children:[n.jsx(s.Input,{ref:b,value:g,onChange:e=>{h(e.target.value),e.target.value.length>0?j(!0):j(!1)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),v(),j(!1))},placeholder:"Type a message...",showClear:!1,style:{flex:1}}),n.jsx(s.PrimaryButton,{label:"Send",onClick:v,disabled:!g.trim(),style:{minWidth:"60px",opacity:g.trim()?1:.5}})]}),n.jsx("div",{style:{padding:"8px 15px",backgroundColor:"#f8f9fa",borderTop:"1px solid #e0e0e0",fontSize:"11px",color:"#666",textAlign:"center"},children:"\uD83D\uDCA1 Messages are shared with all meeting participants"})]})}}};