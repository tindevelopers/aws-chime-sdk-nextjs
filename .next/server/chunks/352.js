"use strict";exports.id=352,exports.ids=[352],exports.modules={9352:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(997),d=o(6689);function i({width:e=480,height:t=360,showControls:o=!0,showDeviceSelection:i=!0,style:a={}}){let n=(0,d.useRef)(null),[l,s]=(0,d.useState)([]),[c,p]=(0,d.useState)(""),[x,u]=(0,d.useState)(!1),[g,f]=(0,d.useState)(null),[v,h]=(0,d.useState)(null),y=async()=>{if(v&&c)try{console.log("StandaloneVideoPreview: Starting video with device:",c);let e=await navigator.mediaDevices.getUserMedia({video:{deviceId:c},audio:!1});n.current&&(n.current.srcObject=e),f(e),u(!0),console.log("StandaloneVideoPreview: Video started successfully")}catch(e){console.error("StandaloneVideoPreview: Failed to start video:",e)}},m=()=>{g&&(g.getTracks().forEach(e=>e.stop()),f(null)),n.current&&(n.current.srcObject=null),u(!1),console.log("StandaloneVideoPreview: Video stopped")},b=async e=>{p(e),x&&(m(),setTimeout(()=>{y()},100))},C={display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",padding:"20px",border:"1px solid #dee2e6",borderRadius:"8px",backgroundColor:"#ffffff",...a},S={width:`${e}px`,height:`${t}px`,backgroundColor:"#000",borderRadius:"8px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"};return(0,r.jsxs)("div",{style:C,children:[r.jsx("h3",{style:{margin:"0 0 10px 0",color:"#232f3e"},children:"\uD83D\uDCF9 Standalone Camera Preview"}),r.jsx("div",{style:S,children:x?r.jsx("video",{ref:n,style:{width:"100%",height:"100%",objectFit:"cover"},autoPlay:!0,muted:!0,playsInline:!0,onLoadedMetadata:()=>console.log("Video metadata loaded"),onCanPlay:()=>console.log("Video can play"),onError:e=>console.error("Video error:",e)}):(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"16px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"10px"},children:"\uD83D\uDCF9"}),r.jsx("div",{children:"Camera Preview"}),r.jsx("div",{style:{fontSize:"12px",marginTop:"5px",opacity:.8},children:l.length>0?"Click Start to begin preview":"No cameras detected"})]})}),o&&(0,r.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[l.length>0&&r.jsx("select",{value:c,onChange:e=>b(e.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"14px"},children:l.map(e=>r.jsx("option",{value:e.deviceId,children:e.label||`Camera ${l.indexOf(e)+1}`},e.deviceId))}),(0,r.jsxs)("button",{onClick:x?m:y,disabled:!c,style:{padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",fontSize:"14px",backgroundColor:x?"#dc3545":"#28a745",color:"white"},children:[x?"⏹️ Stop":"▶️ Start"," Camera"]})]}),r.jsx("div",{style:{fontSize:"12px",color:x?"#28a745":l.length>0?"#6c757d":"#dc3545",textAlign:"center",padding:"8px 12px",backgroundColor:x?"#d4edda":l.length>0?"#e2e3e5":"#f8d7da",borderRadius:"4px",border:`1px solid ${x?"#c3e6cb":l.length>0?"#ced4da":"#f5c6cb"}`},children:x?"✅ Camera is active":l.length>0?"\uD83D\uDCF1 Camera ready to start":"⚠️ No cameras detected"}),!1]})}}};