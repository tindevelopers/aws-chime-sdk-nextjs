"use strict";exports.id=745,exports.ids=[745],exports.modules={2745:(e,i,s)=>{s.r(i),s.d(i,{default:()=>o});var r=s(997),n=s(6689);function o({style:e={}}){let[i,s]=(0,n.useState)([]),[o,d]=(0,n.useState)({camera:"unknown",microphone:"unknown"}),[t,a]=(0,n.useState)({}),[c,l]=(0,n.useState)({}),[u,h]=(0,n.useState)(!0),[x,p]=(0,n.useState)(""),[g,v]=(0,n.useState)(!1),m=async()=>{if("undefined"!=typeof navigator&&navigator.permissions)try{if("permissions"in navigator){let e=await navigator.permissions.query({name:"camera"}),i=await navigator.permissions.query({name:"microphone"});d({camera:e.state,microphone:i.state})}}catch(e){console.log("Permissions API not fully supported")}},j=async()=>{try{if(!navigator.mediaDevices?.enumerateDevices)throw Error("enumerateDevices not supported");let e=await navigator.mediaDevices.enumerateDevices();s(e.map(e=>({deviceId:e.deviceId,label:e.label,kind:e.kind,groupId:e.groupId})))}catch(e){p(`Failed to get devices: ${e.message}`)}},f=()=>{if("undefined"==typeof navigator)return;let e=navigator.userAgent,i={userAgent:e,browser:"Unknown",version:"Unknown",platform:navigator.platform,language:navigator.language,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine};if(e.includes("Chrome")){i.browser="Chrome";let s=e.match(/Chrome\/(\d+)/);i.version=s?s[1]:"Unknown"}else if(e.includes("Firefox")){i.browser="Firefox";let s=e.match(/Firefox\/(\d+)/);i.version=s?s[1]:"Unknown"}else if(e.includes("Safari")&&!e.includes("Chrome")){i.browser="Safari";let s=e.match(/Version\/(\d+)/);i.version=s?s[1]:"Unknown"}else if(e.includes("Edge")){i.browser="Edge";let s=e.match(/Edge\/(\d+)/);i.version=s?s[1]:"Unknown"}a(i)},y=()=>{},D=async()=>{try{return(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop()),"✅ Camera access successful"}catch(e){return`❌ Camera access failed: ${e.name} - ${e.message}`}},b=async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop()),"✅ Microphone access successful"}catch(e){return`❌ Microphone access failed: ${e.name} - ${e.message}`}},w=async()=>{h(!0),p("");try{f(),y(),await m(),await j()}catch(e){p(`Diagnostics failed: ${e.message}`)}finally{h(!1)}},k={padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f8f9fa",fontFamily:"monospace",fontSize:"12px",...e},C={marginBottom:"20px",padding:"15px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #e9ecef"},S={fontSize:"14px",fontWeight:"bold",marginBottom:"10px",color:"#495057"},A=e=>{if("boolean"==typeof e)return e?"✅":"❌";switch(e){case"granted":return"✅";case"denied":return"❌";case"prompt":return"⚠️";default:return"❓"}};return u?r.jsx("div",{style:k,children:r.jsx("div",{style:{textAlign:"center"},children:"\uD83D\uDD0D Running media diagnostics..."})}):(0,r.jsxs)("div",{style:k,children:[r.jsx("h3",{style:{margin:"0 0 20px 0",fontSize:"16px",color:"#212529"},children:"\uD83D\uDD0D Media Diagnostics Report"}),x&&(0,r.jsxs)("div",{style:{...C,backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",color:"#721c24"},children:[r.jsx("div",{style:S,children:"❌ Error"}),r.jsx("div",{children:x})]}),(0,r.jsxs)("div",{style:C,children:[r.jsx("div",{style:S,children:"\uD83C\uDF10 Browser Information"}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Browser:"})," ",t.browser," ",t.version]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Platform:"})," ",t.platform]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Language:"})," ",t.language]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Protocol:"})," ",c.protocol]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Secure Context:"})," ",A(c.isSecureContext)," ",c.isSecureContext?"Yes":"No"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Online:"})," ",A(t.onLine)," ",t.onLine?"Yes":"No"]})]}),(0,r.jsxs)("div",{style:C,children:[r.jsx("div",{style:S,children:"\uD83D\uDD27 API Support"}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"MediaDevices API:"})," ",A(c.mediaDevices)," ",c.mediaDevices?"Supported":"Not Supported"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"getUserMedia:"})," ",A(c.getUserMedia)," ",c.getUserMedia?"Available":"Not Available"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"enumerateDevices:"})," ",A(c.enumerateDevices)," ",c.enumerateDevices?"Available":"Not Available"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"getDisplayMedia:"})," ",A(c.getDisplayMedia)," ",c.getDisplayMedia?"Available":"Not Available"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"AudioContext:"})," ",A(c.audioContext)," ",c.audioContext?"Supported":"Not Supported"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"WebRTC:"})," ",A(c.webRTC)," ",c.webRTC?"Supported":"Not Supported"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Permissions API:"})," ",A(c.permissions)," ",c.permissions?"Available":"Not Available"]})]}),(0,r.jsxs)("div",{style:C,children:[r.jsx("div",{style:S,children:"\uD83D\uDD10 Permissions Status"}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Camera:"})," ",A(o.camera)," ",o.camera]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Microphone:"})," ",A(o.microphone)," ",o.microphone]})]}),(0,r.jsxs)("div",{style:C,children:[r.jsx("div",{style:S,children:"\uD83D\uDCF1 Available Devices"}),0===i.length?r.jsx("div",{style:{color:"#dc3545"},children:"No devices found or permission denied"}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Total devices:"})," ",i.length]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Video inputs:"})," ",i.filter(e=>"videoinput"===e.kind).length]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Audio inputs:"})," ",i.filter(e=>"audioinput"===e.kind).length]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Audio outputs:"})," ",i.filter(e=>"audiooutput"===e.kind).length]}),i.map((e,i)=>(0,r.jsxs)("div",{style:{marginTop:"5px",paddingLeft:"10px"},children:[(0,r.jsxs)("strong",{children:[i+1,"."]})," ",e.kind,": ",e.label||`${e.kind} (${e.deviceId?.slice(0,8)||"unknown"}...)`]},e.deviceId||`device-${i}`))]})]}),(0,r.jsxs)("div",{style:C,children:[r.jsx("div",{style:S,children:"\uD83E\uDDEA Quick Tests"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[r.jsx("button",{onClick:async()=>{alert(await D())},style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Camera"}),r.jsx("button",{onClick:async()=>{alert(await b())},style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Test Microphone"}),r.jsx("button",{onClick:w,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Refresh"})]})]}),(0,r.jsxs)("div",{style:C,children:[r.jsx("div",{style:S,children:"\uD83D\uDCA1 Recommendations"}),(0,r.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px"},children:[!c.isSecureContext&&(0,r.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",r.jsx("strong",{children:"HTTPS Required:"})," Camera/microphone access requires HTTPS in production"]}),!c.mediaDevices&&(0,r.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",r.jsx("strong",{children:"Unsupported Browser:"})," MediaDevices API is not supported"]}),"denied"===o.camera&&(0,r.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",r.jsx("strong",{children:"Camera Blocked:"})," Camera access is denied. Check browser settings"]}),"denied"===o.microphone&&(0,r.jsxs)("li",{style:{color:"#dc3545"},children:["❌ ",r.jsx("strong",{children:"Microphone Blocked:"})," Microphone access is denied. Check browser settings"]}),0===i.filter(e=>"videoinput"===e.kind).length&&(0,r.jsxs)("li",{style:{color:"#ffc107"},children:["⚠️ ",r.jsx("strong",{children:"No Camera:"})," No video input devices detected"]}),0===i.filter(e=>"audioinput"===e.kind).length&&(0,r.jsxs)("li",{style:{color:"#ffc107"},children:["⚠️ ",r.jsx("strong",{children:"No Microphone:"})," No audio input devices detected"]}),c.mediaDevices&&c.isSecureContext&&"denied"!==o.camera&&"denied"!==o.microphone&&(0,r.jsxs)("li",{style:{color:"#28a745"},children:["✅ ",r.jsx("strong",{children:"Good to go:"})," Media APIs are supported and permissions look good"]})]})]})]})}}};