"use strict";exports.id=819,exports.ids=[819],exports.modules={2819:(e,r,o)=>{o.r(r),o.d(r,{default:()=>a});var i=o(997),t=o(6689);function a({width:e=320,height:r=240,style:o={}}){let a=(0,t.useRef)(null),[n,d]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[s,x]=(0,t.useState)(!1),[p,u]=(0,t.useState)(!1),[g,m]=(0,t.useState)([]),[v,h]=(0,t.useState)(""),[y,b]=(0,t.useState)(!1),f=async()=>{if("undefined"==typeof navigator||!navigator.mediaDevices){c("Media devices not supported");return}try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);m(e),e.length>0&&!v&&h(e[0].deviceId)}catch(e){console.error("Error enumerating devices:",e),c("Could not access media devices")}},C=async e=>{if("undefined"==typeof navigator||!navigator.mediaDevices){c("Media devices not supported");return}x(!0),c("");try{let r=await navigator.mediaDevices.getUserMedia({video:!e||{deviceId:{exact:e}},audio:!1});d(r),u(!0),a.current&&(a.current.srcObject=r),await f()}catch(e){console.error("Error accessing camera:",e),"NotAllowedError"===e.name?c("Camera access denied. Please allow camera access in your browser settings."):"NotFoundError"===e.name?c("No camera device found."):"NotReadableError"===e.name?c("Camera is already in use by another application."):c(`Camera error: ${e.message}`)}finally{x(!1)}},j=()=>{n&&(n.getTracks().forEach(e=>e.stop()),d(null),u(!1)),a.current&&(a.current.srcObject=null)},D=async e=>{p&&(j(),await C(e)),h(e)},S={display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",...o},w={width:`${e}px`,height:`${r}px`,backgroundColor:"#000",borderRadius:"8px",objectFit:"cover"},k={width:`${e}px`,height:`${r}px`,backgroundColor:"#e9ecef",border:"2px dashed #adb5bd",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"#6c757d",fontSize:"14px",textAlign:"center"};return y?(0,i.jsxs)("div",{style:S,children:[i.jsx("h3",{style:{margin:"0 0 15px 0",color:"#333",textAlign:"center"},children:"\uD83C\uDFA5 Camera Preview"}),g.length>1&&(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",fontWeight:"bold"},children:"Camera:"}),i.jsx("select",{value:v,onChange:e=>D(e.target.value),style:{padding:"5px 10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},children:g.map(e=>i.jsx("option",{value:e.deviceId,children:e.label||`Camera ${e.deviceId.slice(0,8)}`},e.deviceId))})]}),p&&n?i.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,style:w,onLoadedMetadata:()=>console.log("Video metadata loaded"),onCanPlay:()=>console.log("Video can play"),onError:e=>console.error("Video error:",e)}):(0,i.jsxs)("div",{style:k,children:[i.jsx("div",{style:{fontSize:"40px",marginBottom:"10px"},children:"\uD83D\uDCF9"}),i.jsx("div",{children:l?(0,i.jsxs)("div",{style:{color:"#dc3545"},children:["❌ ",l]}):s?"Loading camera...":"Camera Preview"})]}),p&&(0,i.jsxs)("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:["Stream: ",n?"✅ Active":"❌ None"," | Video Element: ",a.current?"✅ Ready":"❌ Missing"]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[p?i.jsx("button",{onClick:j,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\uD83D\uDED1 Stop Camera"}):i.jsx("button",{onClick:()=>C(v),disabled:s,style:{padding:"8px 16px",backgroundColor:s?"#ccc":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer",fontSize:"14px"},children:s?"Starting...":"\uD83C\uDFA5 Start Camera"}),i.jsx("button",{onClick:f,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\uD83D\uDD04 Refresh"})]}),l&&i.jsx("div",{style:{padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24",fontSize:"14px",maxWidth:`${e}px`,textAlign:"center"},children:l}),p&&n&&(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#666",textAlign:"center",maxWidth:`${e}px`},children:["✅ Camera active • ",n.getVideoTracks()[0]?.label||"Unknown camera"]})]}):i.jsx("div",{style:S,children:(0,i.jsxs)("div",{style:k,children:[i.jsx("div",{children:"\uD83C\uDFA5"}),i.jsx("div",{style:{marginTop:"8px"},children:"Loading camera interface..."})]})})}}};